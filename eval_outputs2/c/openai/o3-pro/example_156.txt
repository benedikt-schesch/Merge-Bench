<think>
No reasoning found</think>
```c
      /* We're inside the Windows frontend here, so we know
       * that the frontend handle is unnecessary. */
      logevent(NULL, str);
      fatalbox("%s", str);
    } else {
      return plug_receive(s->plug, 2, buf, ret);
    }
    break;
  case FD_WRITE: {
    int bufsize_before, bufsize_after;
    s->writable = 1;
```