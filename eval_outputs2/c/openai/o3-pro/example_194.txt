<think>
No reasoning found</think>
```c
mraa_gpio_write(mraa_gpio_context dev, int value)
{
    if (dev->mmap == 1)
        return mraa_gpio_write_register(dev,value);

    if (advance_func.gpio_write_pre != NULL) {
        mraa_result_t pre_ret = (advance_func.gpio_write_pre(dev,value));
        if(pre_ret != MRAA_SUCCESS)
            return pre_ret;
    }

    if (dev->value_fp == -1) {
        mraa_gpio_get_valfp(dev);
    }
    if (lseek(dev->value_fp, 0, SEEK_SET) == -1) {
        return MRAA_ERROR_INVALID_RESOURCE;
```