<think>
No reasoning found</think>
```c
        blen = alen = 0;
      } else {
        multilen = WideCharToMultiByte(
            CP_ACP, 0, unitab + uindex, 1, NULL, 0, NULL, NULL);
        if (multilen != 1) {
          blen = sprintf(
              before, "{\\uc%d\\u%d", (int)multilen, (int)udata[uindex]);
          alen = 1;
          strcpy(after, "}");
        } else {
          blen = sprintf(before, "\\u%d", udata[uindex]);
          alen = 0;
```