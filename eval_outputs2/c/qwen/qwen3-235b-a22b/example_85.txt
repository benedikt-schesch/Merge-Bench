<think>
No reasoning found</think>
```c
    err = p_WSAGetLastError();
    ret->error = winsock_error_string(err);
    return (Socket)ret;
  }

  SetHandleInformation((HANDLE)s, HANDLE_FLAG_INHERIT, 0);

  ret->oobinline = 0;

  p_setsockopt(s, SOL_SOCKET, SO_REUSEADDR, (const char *)&on, sizeof(on));

#ifndef NO_IPV6
```