<think>
No reasoning found</think>
```c
  struct pageant_listen_state *pl = (struct pageant_listen_state *)plug;
  if (error_msg)
    plog(pl->logctx, pl->logfn, "listening socket: error: %s", error_msg);
  sk_close(pl->listensock);
  pl->listensock = NULL;
<<<<<<< HEAD
  return 1;
=======
>>>>>>> 4348393f562c8011ebca43d6198e98638aa115b5
}

static int pageant_listen_accepting(Plug plug,
                                    accept_fn_t constructor,
                                    accept_ctx_t ctx)
```