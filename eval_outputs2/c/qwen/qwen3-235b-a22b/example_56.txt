<think>
No reasoning found</think>
```c
      dlg_update_start(ctrl, dlg);
      dlg_listbox_clear(ctrl, dlg);
      for (val = conf_get_str_strs(conf, CONF_ttymodes, NULL, &key);
           val != NULL;
           val = conf_get_str_strs(conf, CONF_ttymodes, key, &key)) {
        char *disp = dupprintf(
            "%s\t%s",
            key,
            (val[0] == 'A') ? "(auto)"
                            : ((val[0] == 'N') ? "(don't send)" : val + 1));
        dlg_listbox_add(ctrl, dlg, disp);
        sfree(disp);
      }
      dlg_update_done(ctrl, dlg);
```