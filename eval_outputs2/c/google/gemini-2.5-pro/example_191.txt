<think>
No reasoning found</think>
```c
        return MRAA_ERROR_INVALID_RESOURCE;

    }

    close(drive);
    if (advance_func.gpio_mode_post != NULL) {
        return advance_func.gpio_mode_post(dev, mode);
    }
    return MRAA_SUCCESS;
}

mraa_result_t
mraa_gpio_dir(mraa_gpio_context dev, gpio_dir_t dir)

```