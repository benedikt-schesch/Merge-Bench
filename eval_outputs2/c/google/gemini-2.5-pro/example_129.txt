<think>
No reasoning found</think>
```c
       */
      if (s->addr) {
        sk_addr_free(s->addr);
        s->addr = NULL;
      }
      return plug_receive(s->plug, atmark ? 0 : 1, buf, ret);
    }
    break;
  case 2: /* writable */
    if (!s->connected) {
      /*

```