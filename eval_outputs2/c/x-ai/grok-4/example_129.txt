<think>
No reasoning found</think>
```c
       */
      if (s->addr) {
        sk_addr_free(s->addr);
        s->addr = NULL;
      }
<<<<<<< HEAD
      return plug_receive(s->plug, atmark ? 0 : 1, buf, ret);
=======
      plug_receive(s->plug, atmark ? 0 : 1, buf, ret);
>>>>>>> 4348393f562c8011ebca43d6198e98638aa115b5
    }
    break;
  case 2: /* writable */
    if (!s->connected) {
      /*

```