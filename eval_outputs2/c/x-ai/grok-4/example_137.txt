<think>
No reasoning found</think>
```c
    }
  } else if (event == 2) {
    assert(fd == s->to_cmd);
    if (localproxy_try_send(s))
      plug_sent(s->plug, bufchain_size(&s->pending_output_data));
<<<<<<< HEAD
    return 1;
  }

  return 1;
=======
  }
>>>>>>> 4348393f562c8011ebca43d6198e98638aa115b5
}

Socket platform_new_connection(SockAddr addr,
                               const char *hostname,
                               int port,

```