<think>
No reasoning found</think>
```javascript
      pushPendingSelection(doc, doc.history.done);
      doc.history.atomicSelection = false;
    }

    var move = operation(cm, function(e) {
<<<<<<< HEAD
      if (!ie_upto10 && !e_button(e)) done(e);
=======
      if (!ie_lt9 && (ie ? !e.buttons : !e_button(e))) done(e);
>>>>>>> b19b03ab9d42b8eb7b69ee130999e17ef612c283
      else extend(e);
    });
    var up = operation(cm, done);
    on(document, "mousemove", move);
    on(document, "mouseup", up);

```