<think>
No reasoning found</think>
```go

	for _, curComp := range h.app.Status.AppliedResources {
		crList := &appsv1.ControllerRevisionList{}
		listOpts := []client.ListOption{client.MatchingLabels{
			oam.LabelControllerRevisionComponent: curComp.Name,
<<<<<<< HEAD
		}, client.InNamespace(h.getComponentRevisionNamespace(ctx))}
=======
		}, client.InNamespace(h.app.Namespace)}
>>>>>>> 47a565d00d0bde2f49b1a615defd1089a2bae9c2
		_ctx := multicluster.ContextWithClusterName(ctx, curComp.Cluster)
		if err := h.r.List(_ctx, crList, listOpts...); err != nil {
			return err
		}
		needKill := len(crList.Items) - h.r.appRevisionLimit - len(compRevisionInUse[curComp.Name])

```