<think>
No reasoning found</think>
```go
// Note that generated codes prior to protoc-gen-validate v0.6.0 do not provide an all-validation
// interface. In this case the interceptor fallbacks to legacy validation and `all` is ignored.
func UnaryServerInterceptor(opts ...Option) grpc.UnaryServerInterceptor {
	o := evaluateOpts(opts)
	return func(ctx context.Context, req interface{}, info *grpc.UnaryServerInfo, handler grpc.UnaryHandler) (interface{}, error) {
<<<<<<< HEAD:validator/validator.go
		if err := validate(req); err != nil {
=======
		if err := validate(ctx, req, o.shouldFailFast, o.onValidationErrCallback); err != nil {
>>>>>>> 5ca0c417820d989b27ce8f2ef107c8ca878f3561:interceptors/validator/interceptors.go
			return nil, err
		}
		return handler(ctx, req)
	}
}
```