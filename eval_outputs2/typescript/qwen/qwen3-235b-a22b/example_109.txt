<think>
No reasoning found</think>
```typescript
    //
    // Return rejected promise if client has never fully JOINED.
    //
    // (having `_enqueuedMessages !== undefined` means that the client has never been at "ClientState.JOINED" state)
    //
<<<<<<< HEAD
    if ((previousClient as unknown as ClientPrivate)._enqueuedMessages !== undefined) {
      return Deferred.reject('client not joined');
=======
    if (previousClient._enqueuedMessages !== undefined) {
      // @ts-ignore
      return Promise.reject(new Error("not joined"));
>>>>>>> 1a7da98cbeee551587e6119d06a39a441421827b
    }

    if (seconds === undefined) { // TODO: remove this check
      console.warn("DEPRECATED: allowReconnection() requires a second argument. Using \"manual\" mode.");
      seconds = "manual";

```