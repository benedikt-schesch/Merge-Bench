<think>
No reasoning found</think>
```ruby

  def revoke!(klass, *args, **kwargs)
    call_generator!(new_revoke_generator(klass, *args, **kwargs))
  end

  def invoke_then_revoke!(klass, *args, **kwargs, &block)
    invoke! klass, *args, **kwargs, &block
    revoke! klass, *args, **kwargs
  end

  def call_generator!(generator)
    generator.invoke_all

```