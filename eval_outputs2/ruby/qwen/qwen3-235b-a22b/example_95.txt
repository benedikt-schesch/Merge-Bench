<think>
No reasoning found</think>
```ruby
    get "/login"
    assert_response :success
    post "/login", :user=>{:login => users(:user).login, :password => 'test'}
    assert_response :redirect
    assert session[:user]
    assert_redirected_to profile_url(users(:user).profile)
    follow_redirect!
  
    #   puts @response.body
    spider(@response.body, "/", false)
  end
```