<think>
No reasoning found</think>
```rust
            None => Err(anyhow!("failed to get the current playback context")),
        }
    }

    /// updates the current playback state by fetching data from the spotify client
<<<<<<< HEAD
    async fn update_current_playback_state(&self, state: &state::SharedState) -> Result<()> {
        state.player.write().unwrap().playback = self.get_current_playback().await?;
        state.player.write().unwrap().playback_last_updated = Some(std::time::Instant::now());
=======
    fn update_current_playback_state(&self, state: &state::SharedState) -> Result<()> {
        state.player.write().unwrap().playback = self.get_current_playback()?;
        state.player.write().unwrap().playback_last_updated = Some(std::time::SystemTime::now());
>>>>>>> d291d456a6ab54e316adf9ce40bdd6f2fa529f7a
        Ok(())
    }

    /// cleans up a list of albums (sort by date, remove duplicated entries, etc)
    fn clean_up_artist_albums(
```