<think>
No reasoning found</think>
```rust
        };

        Ok(Box::new(tunn))
    }

    pub fn set_logger(&mut self, logger: Box<Fn(&str) + Send>, verbosity: Verbosity) {
        self.logger = Some(spin::Mutex::new(logger));
        self.verbosity = verbosity;
    }

    /// Set the external forfunction pointer for the logging function.
    pub fn set_log(&mut self, log: Option<unsafe extern "C" fn(*const c_char)>, verbosity: u32) {
        self.log = log;
        self.verbosity = Verbosity::from(verbosity);
    }

    /// Receives an IP packet from the tunnel interface and encapsulates it.
    /// Returns wireguard_result.
    /// # Panics

```