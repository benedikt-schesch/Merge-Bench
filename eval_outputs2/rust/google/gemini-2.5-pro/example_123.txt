<think>
No reasoning found</think>
```rust
    });
}

impl Repl {
    fn new(ide_mode: bool) -> Result<Repl, Error> {
        #[cfg(windows)]
        let _ret = control::set_virtual_terminal(true);

        let (command_context, outputs) = CommandContext::new()?;
        send_output(outputs.stdout, io::stdout(), None);
        send_output(outputs.stderr, io::stderr(), Some(Color::BrightRed));
        let mut repl = Repl {
            command_context,

```