<think>
No reasoning found</think>
```java
	private List<TestEvent> sendMessageWithServerSocket(String input) throws UnknownHostException, IOException, ClassNotFoundException {
		return sendMessageWithServerSocket(new String[] { input });
	}

	private List<TestEvent> sendMessageWithServerSocket(String... messages) throws UnknownHostException, IOException, ClassNotFoundException {
<<<<<<< HEAD
		ServerSocket serverSocket = new ServerSocket(0);
		try {
=======
		try (ServerSocket serverSocket = new ServerSocket(0)) {
>>>>>>> 6b1656b15012f02e489b801a3498ffdd9ca95f93
			RuntimeEnvironment fakeEnvironment = fakeEnvironment();
			File file = fakeEnvironment.createClasspathArgumentFile();
			
			ClasspathArgumentBuilder classpathArgumentBuilder = new FileClasspathArgumentBuilder(file);
			factory.startProcess(serverSocket.getLocalPort(), fakeEnvironment, classpathArgumentBuilder);
```