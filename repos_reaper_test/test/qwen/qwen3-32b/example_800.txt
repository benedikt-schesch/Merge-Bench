<think>
No reasoning found</think>
```java
    public ProtocolVersionCB(final Channel chan) {
      this.chan = chan;
    }

    public Long call(final Object response) throws Exception {
    if (response instanceof VersionMismatchException) {
       if (server_version == SERVER_VERSION_UNKNWON) {
          // If we get here, it's because we tried to handshake with a server
          // running HBase 0.92 or above, but using a pre-0.92 handshake.  So
          // we know we have to handshake differently.
          server_version = SERVER_VERSION_092_OR_ABOVE;
    }
```