<think>
No reasoning found</think>
```java
    static class Decimal128Serializer extends JsonSerializer<Decimal128> {

        public void serialize(Decimal128 decimal, JsonGenerator jsonGenerator, SerializerProvider serializerProvider) throws IOException, JsonProcessingException {
            if (jsonGenerator instanceof MongoBsonGenerator) {
                ((MongoBsonGenerator) jsonGenerator).writeDecima128(decimal);
            } else {
                jsonGenerator.writeStartObject();
                jsonGenerator.writeFieldName("$numberDecimal");
                jsonGenerator.writeString(decimal.bigDecimalValue().toString());
                jsonGenerator.writeEndObject();

```