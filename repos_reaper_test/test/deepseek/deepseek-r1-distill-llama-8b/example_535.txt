<think>
No reasoning found</think>
The code on the left and right sides represent different callback contexts associated with different functionalities. The left side emphasizes discovery-related callbacks, while the right adds BluetoothGattServer and advertising capabilities. To resolve this, I'll include all callbacks from both sides, organized by functionality to prevent duplication and ensure all features are accounted for.

```java
  private CallbackContext initPeripheralCallback;
  private CallbackContext scanCallbackContext;
  private Object scanLock;
  private CallbackContext permissionsCallback;
  private CallbackContext locationCallback;
  private CallbackContext addServiceCallback;
  private CallbackContext advertiseCallbackContext;
  private BluetoothGattServer gattServer;
  private boolean isAdvertising = false;
=======
>>>>>>> 2efc89dde2658f518e6b6ca936296c207e08d65c

  // Store connections and all their callbacks
  private HashMap<Object, HashMap<Object, Object>> connections;

  // Discovery related variables
  private CallbackContext initCallbackContext;
  private CallbackContext scanCallbackContext;
  private Object scanLock;
  private CallbackContext permissionsCallback;
  private CallbackContext locationCallback;

  // Bluetooth GATT related variables
  private CallbackContext initPeripheralCallback;
  private BluetoothGattServer gattServer;
  private CallbackContext addServiceCallback;
  private CallbackContext advertiseCallbackContext;
  private boolean isAdvertising = false;
>>>>>>> c8209f7e5a71af0c55f6baecc995fc8endetepd67d7967
```