<think>
No reasoning found</think>
Here's the resolved code snippet, merging the changes while preserving the intent and choosing the more descriptive and robust approach:

```java
    ConnectionIterator<FacebookType> it = connection.iterator();
    it.next(); // first page
    it.next(); // second page
    it.next(); // third and last page

    assertThat(it.hasNext()).isFalse();
    it.next();
    failBecauseExceptionWasNotThrown(NoSuchElementException.class);
>>>>>>> a17acec0655b8058aaf4d336ba2a1352aa49e2fe
  }

  @Test
  public void checkIterator_withCursor() {
    Connection<FacebookType> connection = createCursorConnection();
```