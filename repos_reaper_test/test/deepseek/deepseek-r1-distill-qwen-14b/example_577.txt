<think>
No reasoning found</think>
The merge conflict arises from the use of either `lastIndexOf(".")` or `lastIndexOf('.')`. The correct approach is to use `lastIndexOf('.')` to find the last occurrence of a dot, indicating the start of the file extension.

```java
    if (binaryAttachment.getFieldName() != null) {
      return binaryAttachment.getFieldName();
    }

    String name = binaryAttachment.getFilename();
<<<<<<< HEAD
    int fileExtensionIndex = name.lastIndexOf(".");
=======
    int fileExtensionIndex = name.lastIndexOf('.');
>>>>>>> a17acec0655b8058aaf4d336ba2a1352aa49e2fe
    return fileExtensionIndex > 0 ? name.substring(0, fileExtensionIndex) : name;
  }

  /**
   * returns if the binary attachment stream is closed automatically
   */